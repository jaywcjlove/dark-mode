<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>dark-mode</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒ“</text></svg>" type="image/x-icon">
  <meta description="ðŸŒ“ Add dark mode/night mode custom elements to your website." />
  <script type="module" src="https://unpkg.com/@uiw/github-corners?module"></script>
  <script src="./main.js"></script>
  <style>
    body {
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
    }
    a {
      color: var(--color-theme-text);
    }
  </style>
</head>
<body style="margin: 0 auto; max-width: 520px;">
  <github-corners target="__blank" position="fixed" href="https://github.com/jaywcjlove/dark-mode"></github-corners>
  <dark-mode dark="Dark" light="Light" style="position: fixed;left: 10px;top: 8px;"></dark-mode>
  <h1>Hi there!</h1>
  <div>I'm your cool new webpage! Use the toggle in the <dark-mode style="border: 2px solid blue"></dark-mode> ðŸ‘ˆ  button to switch my theme.</div>
  <dark-mode onclick="console.log('Hello')" mode="light"></dark-mode>
  <dark-mode dark="Dark" light="Light" style="border: 1px solid red; font-size: 12px;"></dark-mode>
  <br /><br />
  Github: <a href="https://github.com/jaywcjlove/dark-mode.git" target="__blank">@jaywcjlove/dark-mode</a>
  <br />
  <br />
  <script>
    const toggle = document.querySelector('dark-mode');
    const button = document.createElement('button');
    button.textContent = 'Change Theme';
    button.style = 'line-height: 16px';
    button.onclick = () => {
      const theme = document.documentElement.dataset.colorMode;
      toggle.mode = theme === 'light' ? 'dark' : 'light';
      // document.documentElement.setAttribute('data-color-mode', theme === 'light' ? 'dark' : 'light');
    }
    document.body.appendChild(button);
    document.addEventListener('colorschemechange', (e) => {
      console.log(`colorschemechange: Color scheme changed to "${e.detail.colorScheme}" or .`);
      button.textContent = toggle.mode === 'dark' ? 'Change Theme ðŸŒž' : 'Change Theme ðŸŒ’';
    });
    document.addEventListener('permanentcolorscheme', (e) => {
      console.log(`~permanentcolorscheme: Color scheme changed to "${e.detail.colorScheme}" or .`);
    });
    const removePermanent = () => document.querySelectorAll('dark-mode').forEach((item) => item.removeAttribute('permanent'));
  </script>
  <button onclick="toggle.light = 'æ˜Ž(Light)ä¸»é¢˜';toggle.dark = 'æš—(Dark)ä¸»é¢˜'">Change Label</button>
  <button onclick="removePermanent();">Change permanent</button>
  <br />
  <br />
  <dark-mode permanent></dark-mode>
  <span>ðŸ‘ˆ The <b>mode</b> is remembered after clicking it.</span>
  <br /><br />
  <script>
    const buttonClean = document.createElement('button');
    document.body.appendChild(buttonClean);
    buttonClean.textContent = `Clean localStorage (${toggle.LOCAL_NANE})`;
    buttonClean.style = 'line-height: 16px';
    buttonClean.onclick = () => {
      localStorage.removeItem(toggle.LOCAL_NANE);
    }
  </script>
  <br /><br />
  <div id="markdown">loading...</div>
  <link rel="stylesheet" href="https://unpkg.com/@wcj/markdown-to-html/dist/marked.css">
  <script src="https://unpkg.com/@wcj/markdown-to-html"></script>
  <script type="text/javascript">
    ;(() => {
      const str = `dark-mode
===

[![Buy me a coffee](https://img.shields.io/badge/Buy%20me%20a%20coffee-048754?logo=buymeacoffee)](https://jaywcjlove.github.io/#/sponsor) 
[![CI](https://github.com/jaywcjlove/dark-mode/actions/workflows/ci.yml/badge.svg)](https://github.com/jaywcjlove/dark-mode/actions/workflows/ci.yml)
[![jsDelivr CDN](https://data.jsdelivr.com/v1/package/npm/@wcj/dark-mode/badge?style=rounded)](https://www.jsdelivr.com/package/npm/@wcj/dark-mode)
[![NPM Downloads](https://img.shields.io/npm/dm/@wcj/dark-mode.svg?style=flat)](https://www.npmjs.com/package/@wcj/dark-mode)
[![npm version](https://img.shields.io/npm/v/@wcj/dark-mode.svg)](https://www.npmjs.com/package/@wcj/dark-mode)
[![Open in unpkg](https://img.shields.io/badge/Open%20in-unpkg-blue)](https://uiwjs.github.io/npm-unpkg/#/pkg/@wcj/dark-mode/file/README.md)

A custom element that allows you to easily put a Dark Mode ðŸŒ’ toggle. so you can initially adhere to your users' preferences according to [\`prefers-color-scheme\`](https://drafts.csswg.org/mediaqueries-5/#prefers-color-scheme), but also allow them to (optionally permanently) override their system setting for just your site.

## Installation

Install from npm:

\`\`\`bash
npm install --save @wcj/dark-mode
\`\`\`

Or, alternatively, use a \`<script defer>\` tag (served from unpkg's CDN):

CDN: [UNPKG](https://unpkg.com/@wcj/dark-mode/dist/) | [jsDelivr](https://cdn.jsdelivr.net/npm/@wcj/dark-mode/) | [Githack](https://raw.githack.com/jaywcjlove/dark-mode/gh-pages/dark-mode.min.js) | [Statically](https://cdn.statically.io/gh/jaywcjlove/dark-mode/gh-pages/dark-mode.min.js)

\`\`\`html
<script src="https://unpkg.com/@wcj/dark-mode"><\/script>
\`\`\`

## Usage

There are two ways how you can use \`<dark-mode>\`:

\`\`\`html
<dark-mode><\/dark-mode>
<dark-mode light="Dark" dark="Light"><\/dark-mode>
<dark-mode dark="Dark" light="Light" style="border: 1px solid red; font-size: 12px;"><\/dark-mode>
\`\`\`

Use in [React](https://github.com/facebook/react):

\`\`\`jsx
import React from 'react';
import '@wcj/dark-mode';

function Demo() {
  return (
    <div>
      <dark-mode permanent light="Light" dark="Dark"><\/dark-mode>
    <\/div>
  );
}
\`\`\`

Toggle in JavaScript: 

\`\`\`js
const toggle = document.querySelector('dark-mode');
const button = document.createElement('button');
button.textContent = 'Change Theme';
button.onclick = () => {
  const theme = document.documentElement.dataset.colorMode;
  // or => const theme = toggle.mode
  document.documentElement.setAttribute('data-color-mode', theme === 'light' ? 'dark' : 'light');
}
document.body.appendChild(button);
// Listen for toggle changes
// and toggle the \`dark\` class accordingly.
document.addEventListener('colorschemechange', (e) => {
  console.log(\`Color scheme changed to "$\{e.detail.colorScheme}" or "$\{toggle.mode}".\`);
  button.textContent = toggle.mode === 'dark' ? 'Change Theme ðŸŒž' : 'Change Theme ðŸŒ’';
});
\`\`\`

Interacting with the custom element:

\`\`\`js
const darkMode = document.querySelector('dark-mode');

// Set the mode to dark
darkMode.mode = 'dark';
// Set the mode to light
darkMode.mode = 'light';
// Set the mode to dark
document.documentElement.setAttribute('data-color-mode', 'dark');
// Set the mode to light
document.documentElement.setAttribute('data-color-mode', 'light');

// Set the light label to "off"
darkMode.light = 'off';
// Set the dark label to "on"
darkMode.dark = 'on';

// Set a "remember the last selected mode" label
darkMode.permanent = true;

// Remember the user's last color scheme choice
darkModeToggle.setAttribute('permanent', false);
// Forget the user's last color scheme choice
darkModeToggle.removeAttribute('permanent');
\`\`\`

Reacting on color scheme changes:

\`\`\`js
/* On the page */
document.addEventListener('colorschemechange', (e) => {
  console.log(\`Color scheme changed to $\{e.detail.colorScheme}.\`);
});
\`\`\`

Reacting on "remember the last selected mode" functionality changes:

\`\`\`js
/* On the page */
document.addEventListener('permanentcolorscheme', (e) => {
  console.log(\`$\{e.detail.permanent ? 'R' : 'Not r'}emembering the last selected mode.\`);
});
\`\`\`

## Hide Text and Icons

You can use the following CSS selectors to hide the text and icon parts of the \`dark-mode\` component:

\`\`\`css
dark-mode::part(text) {
    display: none;
}
dark-mode::part(icon) {
    display: none;
}
\`\`\`

## Properties

Properties can be set directly on the custom element at creation time, or dynamically via JavaScript.

\`\`\`typescript
export type ColorScheme = 'light' | 'dark';
export class DarkMode extends HTMLElement {
  mode?: ColorScheme;
  /**
   * Defaults to not remember the last choice.
   * If present remembers the last selected mode (\`dark\` or \`light\`),
   * which allows the user to permanently override their usual preferred color scheme.
   */
  permanent?: boolean;
  /**
   * Any string value that represents the label for the "dark" mode.
   */
  dark?: string;
  /**
   * Any string value that represents the label for the "light" mode.
   */
  light?: string;
  style?: React.CSSProperties;
}
\`\`\`

## Events

- \`colorschemechange\`: Fired when the color scheme gets changed.
- \`permanentcolorscheme\`: Fired when the color scheme should be permanently remembered or not.

## Alternatives

- [dark-mode-toggle](https://github.com/GoogleChromeLabs/dark-mode-toggle) <img align="bottom" height="13" src="https://img.shields.io/github/stars/GoogleChromeLabs/dark-mode-toggle.svg?label=" /> A custom element that allows you to easily put a Dark Mode ðŸŒ’ toggle or switch on your site
- [Darkmode.js](https://github.com/sandoche/Darkmode.js) <img align="bottom" height="13" src="https://img.shields.io/github/stars/sandoche/Darkmode.js.svg?label=" /> Add a dark-mode / night-mode to your website in a few seconds
- [darken](https://github.com/ColinEspinas/darken) <img align="bottom" height="13" src="https://img.shields.io/github/stars/ColinEspinas/darken.svg?label=" /> Dark mode made easy
- [use-dark-mode](https://github.com/donavon/use-dark-mode) <img align="bottom" height="13" src="https://img.shields.io/github/stars/donavon/use-dark-mode.svg?label=" /> A custom React Hook to help you implement a "dark mode" component.
- [Dark Mode Switch](https://github.com/coliff/dark-mode-switch) <img align="bottom" height="13" src="https://img.shields.io/github/stars/coliff/dark-mode-switch.svg?label=" /> Add a dark-mode theme toggle with a Bootstrap Custom Switch

## Contributors

As always, thanks to our amazing contributors!

<a href="https://github.com/jaywcjlove/dark-mode/graphs/contributors">
  <img src="https://jaywcjlove.github.io/dark-mode/CONTRIBUTORS.svg" />
<\/a>

Made with [github-action-contributors](https://github.com/jaywcjlove/github-action-contributors).

## License

Licensed under the [MIT License](https://opensource.org/licenses/MIT).
`;
      const div = document.getElementById('markdown');
      div.className = 'markdown-body';
      div.style = 'padding: 15px 0 25px 0;';
      div.innerHTML = markdown.default(str)
      document.body.appendChild(div)
    })()
  </script>
</body>
</html>